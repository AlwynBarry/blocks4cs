{"version":3,"file":"js/b4cs-scripts.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAASA,aAAaA,CAACC,GAAG,EAAEC,IAAI,EAAE;EACjC,MAAMC,aAAa,GAAG,GAAG,GAAGD,IAAI;EAChC,IAAKD,GAAG,KAAK,IAAI,IAAMA,GAAG,CAACG,SAAS,CAACC,OAAO,CAACH,IAAI,CAAC,IAAI,CAAC,CAAE,EAAE;IAC1DD,GAAG,CAACG,SAAS,IAAID,aAAa;EAC/B;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,gBAAgBA,CAACL,GAAG,EAAEC,IAAI,EAAE;EACpC,MAAMC,aAAa,GAAG,GAAG,GAAGD,IAAI;EAChC,IAAID,GAAG,KAAK,IAAI,EAAE;IACjBA,GAAG,CAACG,SAAS,GAAGH,GAAG,CAACG,SAAS,CAACG,OAAO,CAACJ,aAAa,EAAE,EAAE,CAAC;EACzD;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASK,yBAAyBA,CAAA,EAAG;EACpC,IAAIC,MAAM,GAAGC,QAAQ,CAACC,sBAAsB,CAAC,yBAAyB,CAAC,CAAC,CAAC;EACzE,KAAK,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACH,MAAM,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;IACnCN,gBAAgB,CAACG,MAAM,CAACG,CAAC,CAAC,EAAE,yBAAyB,CAAC;EACvD;EACA;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASE,uBAAuBA,CAACb,GAAG,EAAE;EACrC;EACAO,yBAAyB,CAAC,CAAC;EAC3B;EACA,IAAIO,MAAM,GAAGd,GAAG,CAACe,UAAU,CAAC,CAAC;EAC7B,IAAID,MAAM,KAAK,IAAI,EAAE;IACpB,IAAIE,KAAK,GAAGF,MAAM,CAACJ,sBAAsB,CAAC,wBAAwB,CAAC;IACnE,IAAIM,KAAK,CAACJ,MAAM,GAAG,CAAC,EAAE;MACrBb,aAAa,CAACiB,KAAK,CAAC,CAAC,CAAC,EAAE,yBAAyB,CAAC;MAClD;MACAA,KAAK,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC;IACjB;EACD;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASC,qBAAqBA,CAAClB,GAAG,EAAE;EACnC,IAAIc,MAAM,GAAGd,GAAG,CAACe,UAAU,CAAC,CAAC;EAC7B,IAAID,MAAM,KAAK,IAAI,EAAE;IACpBT,gBAAgB,CAACS,MAAM,EAAE,yBAAyB,CAAC;IACnDA,MAAM,GAAGA,MAAM,CAACC,UAAU,CAAC,CAAC;IAC5B;IACA,IAAID,MAAM,KAAK,IAAI,EAAE;MAAEA,MAAM,CAACG,KAAK,CAAC,CAAC;IAAE;EACxC;AACD;;AAGA;AACA;AACA;AACA,G","sources":["webpack://blocks4cs/./blocks/src/js/b4cs-scripts.js"],"sourcesContent":["/**\n * Name: b4cs-scripts.js\n * \n * Descripton: Script to reveal a calendar event details when a calendar button is pressed\n * \n * @author\t\tAlwyn Barry\n * @copyright\t2025\n * For use in\tblocks4cs\n * @license\t\thttp://www.gnu.org/licenses/old-licenses/gpl-2.0.html\n * @version\t\t1.0.0\n * \n * This program is free software; you can redistribute it and/or modify it under the terms of the GNU \n * General Public License as published by the Free Software Foundation; either version 2 of the License, \n * or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without \n * even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * \n */\n \n/**\n *  PRIVATE: Utility function used to ensure that we are not adding a class multiple times\n *  NOTE: Can now replace with .classList.add('...')\n */\nfunction b4cs_addClass(obj, item) {\n\tconst itemWithSpace = ' ' + item;\n\tif ((obj !== null) && (obj.className.indexOf(item) == -1)) {\n\t\tobj.className += itemWithSpace;\n\t}\n}\n\n/**\n * PRIVATE: Utility function used to enable safe removal of a class\n * \t\tIf the class name provided doesn't exist in the list, no change\n * \t\tis made to the class list.  Otherwise the class is removed.\n *  NOTE: Can now replace with .classList.remove('...') or classList.toggle('...')\n * \n * @param obj\tthe DOM object to remove the class from its class list\n * @param item\tthe class name string to be removed from the class list\n */\nfunction b4cs_removeClass(obj, item) {\n\tconst itemWithSpace = ' ' + item;\n\tif (obj !== null) {\n\t\tobj.className = obj.className.replace(itemWithSpace, \"\");\n\t}\n}\n\n/**\n * PRIVATE: Utility function to close all open pop-ups so only one is open at a time.\n * NOTE: Could do with single line (though less obvious):\n *   Array.from( document.querySelectorAll( '.b4cs-event-hover-reveal' ) ).forEach( function( el ) { el.classList.remove( 'b4cs-event-hover-reveal' ) } );\n */\nfunction b4cs_closeAllEventDetails() {\n\tlet popUps = document.getElementsByClassName(\"b4cs-event-hover-reveal\"); /* Fetch the array of PopUp Event Details */\n\tfor (let i=0; i<popUps.length; i++) {\n\t\tb4cs_removeClass(popUps[i], \"b4cs-event-hover-reveal\");\n\t}\n\t/* Should only be called when the focus is about to be moved to a new pop-up, so no need to change the focus here */\n}\n\n/**\n * Open the modal pop-up for the details of the calendar event\n * \n * @param obj\tshould be the button to open the pop up, contained within the cs-event-hover_block\n */\nfunction b4cs_revealEventDetails(obj) {\n\t/* Close all open Event Details ... should be 0 or 1 */\n\tb4cs_closeAllEventDetails();\n\t/* Open the details part of an event when the '...' button is clicked */\n\tlet parent = obj.parentNode; /* Fetch the 'b4cs-calendar-event' div, which contains the cs-event-hover-block */\n\tif (parent !== null) {\n\t\tlet hover = parent.getElementsByClassName(\"b4cs-event-hover-block\")\n\t\tif (hover.length > 0) {\n\t\t\tb4cs_addClass(hover[0], \"b4cs-event-hover-reveal\");\n\t\t\t/* Set the focus so that screen-readers go to the right place */\n\t\t\thover[0].focus();\n\t\t}\n\t}\n}\n\n/**\n * Close the details part of an event when the 'x' button is clicked\n * \n * @param obj\tshould the the button within the popup (cs-event-hover-block)\n */\nfunction b4cs_hideEventDetails(obj) {\n\tlet parent = obj.parentNode; /* Fetch the 'b4cs-event-hover-block' div */\n\tif (parent !== null) {\n\t\tb4cs_removeClass(parent, \"b4cs-event-hover-reveal\");\n\t\tparent = parent.parentNode; /* Fetch the 'b4cs-calendar-event' div which contains the event these details belong to */\n\t\t/* Take the focus back to the parent to help screen-readers */\n\t\tif (parent !== null) { parent.focus(); }\n\t}\n}\n\n\n/* NOTE: Could replace the above with eventListners:\n *   Array.from( document.querySelectorAll( '.b4cs-clickable-caret-open' ) ).forEach( function( el ) { el.attachEventListener( \"click\", b4cs_reveal_event_details, false ) } );\n *   Array.from( document.querySelectorAll( '.b4cs-clickable-caret-close' ) ).forEach( function( e) ) { el.attachEventListener( \"click\", b4cs_hide_event_details, false ) } );\n */\n\n"],"names":["b4cs_addClass","obj","item","itemWithSpace","className","indexOf","b4cs_removeClass","replace","b4cs_closeAllEventDetails","popUps","document","getElementsByClassName","i","length","b4cs_revealEventDetails","parent","parentNode","hover","focus","b4cs_hideEventDetails"],"sourceRoot":""}